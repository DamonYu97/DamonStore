<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.luckin.dao.MemberDao">
    <insert id="insert" parameterType="com.luckin.dao.entity.Member">
        INSERT INTO t_member(name,password)
        VALUES(#{name},#{password});
    </insert>
    <update id="update" parameterType="com.luckin.dao.entity.Member">
        UPDATE t_member SET
        name=#{name},
        password=#{password},
        image_url=#{imageUrl},
        gender=#{gender},
        phone_number=#{phoneNumber},
        email=#{email},
        point=#{point},
        status=#{status}
        WHERE id=#{id};
    </update>
    <update id="updatePoint">
        UPDATE t_member SET point=#{point} where id=#{memberID};
    </update>
    <select id="findMemberByName" parameterType="java.lang.String" resultType="com.luckin.dao.entity.Member">
        SELECT * FROM t_member WHERE name=#{name} and status=1;
    </select>
    <!--查找所有会员信息-->
    <select id="findAllMember" resultType="com.luckin.dao.entity.Member">
        SELECT * FROM t_member;
    </select>
    <delete id="delete" parameterType="java.lang.String">
        DELETE FROM t_member WHERE name=#{name};
    </delete>
</mapper>